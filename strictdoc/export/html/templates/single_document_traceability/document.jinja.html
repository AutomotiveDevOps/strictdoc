<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
    <link rel="stylesheet" href="static/single_document_traceability.css" />
    <title>{{document.name}} - Traceability</title>
    {% endblock %}
</head>

<body>
  <h1>{{document.name}} - Traceability</h1>

  <a href="index.html">Back to Index</a>

  <br/>
  <br/>


  {%- if document.ng_sections %}
    <h2>Table of Contents</h2>
    {%- for section in document.ng_toc_section_iterator() %}
      <div>

        {{ (section.level - 1) * 4 * '&nbsp;' }} <a href="#{{ string_to_anchor_id(section.title) }}">{{ section.title }}</a>

      </div>
    {%- endfor %}
  {%- endif %}

  <div id="sections-and-requirements">
  {%- for section_or_requirement in document.ng_section_iterator() %}
    {%- if section_or_requirement.is_requirement %}

      <div class="cell">
        {%- for requirement in traceability_index.get_parent_requirements(section_or_requirement) %}
          <div class="cell-parent requirement-style">
            {% include "single_document_traceability/requirement.jinja.html" %}
          </div>
        {%- endfor %}
      </div>

      {%- set requirement = section_or_requirement %}
      <div class="cell" id="{{ requirement.uid }}">
        <div class="cell-central requirement-style">
          {% include "single_document_traceability/requirement.jinja.html" %}
        </div>
      </div>

      <div class="cell">
        {%- for requirement in traceability_index.get_children_requirements(section_or_requirement) %}
          <div class="cell-children requirement-style">
            {% include "single_document_traceability/requirement.jinja.html" %}
          </div>
        {%- endfor %}
      </div>

    {%- else %}
      <div class="section-cell">
      {%- set section = section_or_requirement %}
      <h2 id="{{ string_to_anchor_id(section.title) }}">{{ section.title }}</h2>
      </div>
    {%- endif %}
  {%- endfor %}
  </div>
</body>
