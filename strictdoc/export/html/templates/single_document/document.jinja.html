<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
    <link rel="stylesheet" href="static/global.css" />
    <link rel="stylesheet" href="static/single_document.css" />
    <title>{{document.name}} - Traceability</title>
</head>

<body>
<h1>{{document.name}}</h1>

<a href="index.html">Back to Index</a>

<br/>
<br/>

{%- set document_iterator = traceability_index.get_document_iterator(document) -%}

{%- if document.ng_sections %}
  <h2>Table of Contents</h2>
  {%- for section, title in document_iterator.table_of_contents() %}
    <div>

      {{ (section.ng_level - 1) * 4 * '&nbsp;' }} {{ section.title }}

    </div>
  {%- endfor %}
{%- endif %}

{%- for section_or_requirement in document_iterator.all_content() %}
  {%- if section_or_requirement.is_requirement %}
    {%- set requirement = section_or_requirement %}
    {% include "single_document/requirement.jinja.html" %}
    <br/>
  {%- elif section_or_requirement.is_section %}
    {%- set section = section_or_requirement %}
    <h2>{{ section.title }}</h2>
  {%- elif section_or_requirement.is_free_text %}
    {%- set freetext = section_or_requirement %}
    {{ freetext.text }}
    <br/>
  {%- endif %}
{%- endfor %}
</body>
